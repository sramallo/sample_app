= form_for(@invoice) do |f|
  - if @invoice.errors.any?
    #error_explanation
      %h2
        = pluralize(@invoice.errors.count, "error")
        prohibited this invoice from being saved:
      %ul
        - @invoice.errors.full_messages.each do |msg|
          %li= msg
  .field
    = f.label :invoice_type
    %br/
    = f.select :invoice_type, Invoice.types
  .field
    = f.label :branch_id
    %br/
    = f.collection_select :branch_id, @branches, :id, :name
  .field
    = f.label :client_id
    %br/
    = f.collection_select :client_id, @clients, :id, :name
  .invoice_items
    %h3 Item
    = f.fields_for :invoice_items do |fi|
      .field
        = fi.label :price
        = fi.number_field :price
      .field
        = fi.label :quantity
        = fi.number_field :quantity

  .actions
    = f.submit
